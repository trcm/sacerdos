<ng-include src=" 'static/js/views/navbar.html'"></ng-include>

<script type="text/ng-template" id="prop-create.html">
	<form ng-submit="ok()" flow-init="{testChunks:false}" flow-name="uploader.flow"
		class="ng-scope ng-invalid ng-invalid-required ng-dirty" method="POST">
		<div class="modal-header">
			<button type="button" class="close"
				ng-click="cancel()">&times;</button>
			<h4 class="modal-title" id="">Create Property</h4>
		</div>
		
		<div class="modal-body">

			<div class="form-group">
				<label>Address</label>
				<input type="text" class="form-control" name="description"
					ng-model="prop.address" ng-required="true"
					ng-maxlength=1000
					/>
			</div>
			
			<div class="form-group">
				<label>Name</label>
				<input type="text" class="form-control" name="name"
					ng-model="prop.name" ng-required="true"
					ng-maxlength=1000
					/>
			</div>
			<div class="form-group"  >
				<label>Picture</label><br/>
				<!-- <input type="file" class="form-control" name="image"
				ng-required="true"
				ng-maxlength=1000
				file-input="files"
				multiple
				/> -->
				<!-- 				<input name="" type="file" value="" ng-required="true" flow-btn/> -->
				<span name="image" ng-model="image" class="btn btn-primary" flow-btn>Select Image</span>
				{{ $flow.files[0].file.name }}
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-default" ng-click="cancel()">Cancel
				</button>
				<button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">Save</button>
			</div>
	</form>
		</div>

</script>
<!-- <div ng-if="agent" ng-include=" 'static/js/views/users/agent.html' ">
</div>
-->
<div class="agentDiv" ng-if="agent">
	<h1 class="text-center">Properties</h1>
	<button class="btn btn-lg btn-primary pull-right" id="createBtn" ng-click="newProp()">Create Property</button>
</div>

<div ng-if="owner" ng-include=" 'static/js/views/users/owner.html' ">
</div>

<div ng-if="tenant">
</div>


<div ng-show="prop" class="{{ prop.status_string }}">
	<img alt="" ng-src="{{ prop.property_image }}"/>
	<h3>{{ prop.name }}</h3>
	<p>{{ prop.address }}</p>
	<p>Property Status: {{ prop.status }}</p>
	<p>Issues: {{ prop.issues.length }}</p>
	<a href="/#/property/{{ prop.id }}">Info</a>
</div>


<div ng-if="properties.props">
	<label>Search: <input ng-model="search"></label>		
	<ul ng-show="properties.props" ng-repeat="p in properties.props | filter: search">
		<li class="{{ p.status_string }}">
			<img alt="" ng-src="{{ p.property_image }}"/>
			<h3>{{ p.name }}</h3>
			<p>{{ p.address }}</p>
			<p>Property Status: {{ p.status }}</p>
			<p>Issues: {{ p.issues.length }}</p>
			<a href="/#/property/{{ p.id }}">Info</a>
		</li>
		
	</ul>
	
</div>


